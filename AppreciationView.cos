@IF	@IsDefined("__BUILD_ONE__") == 0
Include	"yosuga.ch"
@ENDIF

Function AppreciationView::cgProc(Reference wscmd)
	Integer id := true
	Array aParam
	If (IsUNK1)
	ElseIf (wscmd.strFullID.IsMatchUsage("&ID_PAGE_TAG&(<0-9>*)&\\\\ID_TAG&", aParam) == "")
		Integer tag := ConvertToInteger(aParam[0]) - 1
		If (this.sprTag[tag].IsButtonChecked("ID_PAGE1") == true)
			setPage(tag, 0)
		ElseIf (this.sprTag[tag].IsButtonChecked("ID_PAGE2") == true)
			setPage(tag, 1)
		ElseIf (this.sprTag[tag].IsButtonChecked("ID_PAGE3") == true)
			setPage(tag, 2)
		ElseIf (this.sprTag[tag].IsButtonChecked("ID_REC") == true)
			setPage(tag, 3)
		EndIf
	ElseIf (wscmd.strFullID.IsMatchUsage("&ID_PAGE_TAG&(<0-9>*)&\\\\ID_PAGE&(<0-9>*)", aParam) == "")
		setPage(ConvertToInteger(aParam[0]) - 1, ConvertToInteger(aParam[1]) - 1)
	ElseIf (wscmd.strFullID.IsMatchUsage("&ID_PAGE_TAG&(<0-9>*)&\\\\ID_REC&", aParam) == "")
		setPage(ConvertToInteger(aParam[0]) - 1, 3)
	ElseIf (wscmd.strID.IsMatchUsage("&ID_CGSEL&(<0-9>*)", aParam) == "")
		id :=ConvertToInteger(aParam[0]) - 1
	Else
		Return 0
	EndIf
    If (id != true)
        showCgLoop(this.selTag, this.selPage * 12 + id)
    EndIf
	screen.FlushCommandQueue(true)
	Return true
EndFunc

Function AppreciationView::checkHitCg(Integer id)
	Integer length := this.cgViewMan[id].thumbInfo.GetLength()
	Integer i := 0
	While (i < length)
        If (CheckCgFlag(this.cgViewMan[id].thumbInfo[i].flag))
            Break
        EndIf
        i += 1
    EndWhile
    If (i == length)
        Return true
    EndIf
    Return i
EndFunc

Function AppreciationView::checkPaletteCg(Integer flag, Integer id, String spriteID)
	If (CheckCgFlag(flag) == true)
        this.sprThumbBase.SetTransparency(0, "ID_CG" + ConvertToString(id))
        this.sprThumbBase.SetTransparency(0, "ID_CGSEL" + ConvertToString(id))
        this.sprThumbBase.SetSpriteImage("ID_CG" + ConvertToString(id), "ID_" + spriteID)
    Else
        this.sprThumbBase.SetTransparency(0, "ID_CG" + ConvertToString(id))
        this.sprThumbBase.SetSpriteImage("ID_CG" + ConvertToString(id), "ID_FRM_0733")
    EndIf
EndFunc

Function AppreciationView::hide(Integer fWait)
	this.sprBase.SetBlendingEnvelope(256)
	this.sprBase.BeginActivation(500)
	If (fWait == true)
		WaitUntilSpriteActive(this.sprBase, true)
	EndIf
EndFunc

Function AppreciationView::show()
	this.sprScroll.SetBlendingEnvelope(256)
	this.sprScroll.BeginActivation(300)
	this.sprBase.SetBlendingEnvelope(0)
	this.sprBase.BeginActivation(500)
EndFunc

Function AppreciationView::startRecollect(String scenario)
	Integer flag := this.isPlayBgm
	stopBgm()
	adv.setCg("BLACK")
	adv.bustupClear()
	adv.update(true)
	hide(true)
	destroy()
	cnfObj.flgPlayBgm := this.cnfPlayBgm
	InitScenarioData()
	ScenarioLoop(scenario)
	cnfObj.flgPlayBgm := true
	create(this.selTag, this.selPage, this.selPlayBgm)
	SetupAdvScreen()
	show()
	this.isPlayBgm := flag
EndFunc

Function AppreciationView::stopBgm()
	StopBgm(true)
	this.isPlayBgm := 0
EndFunc

Function AppreciationView::checkPaletteRecollect(Integer flag, Integer id, String spriteID)
	If (ChkRecollectFlag(flag) == true)
		this.sprThumbBase.SetTransparency(0, "ID_REC" + ConvertToString(id))
		this.sprThumbBase.SetTransparency(0, "ID_RECSEL" + ConvertToString(id))
		this.sprThumbBase.SetSpriteImage("ID_REC" + ConvertToString(id), "ID_" + spriteID)
	Else
		this.sprThumbBase.SetTransparency(0, "ID_REC" + ConvertToString(id))
		this.sprThumbBase.SetSpriteImage("ID_REC" + ConvertToString(id), "ID_FRM_0735")
	EndIf
EndFunc

Function AppreciationView::destroy()
	this.sprBase.DetachAllSprite()
	screen.DetachSprite(this.sprBase)
	screen.DetachSprite(this.sprScroll)
	this.sprBase.Release()
	this.sprTag.Remove()
	this.sprThumbBase.Release()
	this.sprMusic.Release()
	this.sprScroll.Release()
	this.optionSkin.DeleteContents()
EndFunc

Function AppreciationView::create(Integer tagID, Integer pageID, Integer bgm)
	this.optionSkin.LoadResource("option.noa")
	this.sprBase.CreateSprite(67108865, 800, 600)
	this.sprBase.SetTransparency(256)
	this.sprBase.SetVisible(true)
	screen.AddSprite(50400, this.sprBase)
	this.sprBack.AttachImage(this.optionSkin.ID_FRM_0701)
	this.sprBack.SetVisible(true)
	this.sprBase.AddSprite(100, this.sprBack)
	this.sprTitle.AttachImage(this.optionSkin.ID_FRM_0702)
	this.sprTitle.MovePosition(5, 6)
	this.sprTitle.SetVisible(true)
	this.sprBase.AddSprite(5, this.sprTitle)
	For i:=0 To 5
		this.sprTag[i] := Sprite
		this.optionSkin.CreateFormPage(this.sprTag[i], "ID_PAGE_TAG"  + ConvertToString(i + 1))
		this.sprTag[i].SetVisible(true)
		this.sprTag[i].CheckButton("ID_PAGE1", true)
		this.sprBase.AddSprite(10 + i, this.sprTag[i])
	Next
	this.optionSkin.CreateFormPage(this.sprThumbBase, "ID_PAGE_THUMB")
	ImageInfo info
	info:= this.sprThumbBase.GetInfo()
	SpriteParam param
	this.sprThumbBase.GetParameter(param)
	param.ptRevCenter := IPoint(info.nImageWidth / 2, 0)
	this.sprThumbBase.SetParameter(param)
	this.sprThumbBase.SetVisible(true)
	this.sprBase.AddSprite(30, this.sprThumbBase)
	this.optionSkin.CreateFormPage(this.sprMusic, "ID_PAGE_MUSIC")
	this.sprMusic.MovePosition(534, 38)
	this.sprMusic.CheckButton("ID_STOP", true)
	this.sprMusic.SetVisible(true)
	this.sprBase.AddSprite(50, this.sprMusic)
	If (bgm == true)
		this.sprMusic.CheckButton("ID_STOP", true)
	Else
		playBgm(bgm)
		this.sprMusic.CheckButton("ID_BGM" + ConvertToString((bgm + 1)), true)
	EndIf
	this.optionSkin.CreateFormPage(this.sprScroll, "ID_PAGE_SCROLL")
	info := this.sprScroll.GetInfo()
	this.sprScroll.MovePosition((800 - info.nImageWidth) / 2, 550)
	this.sprScroll.SetHorzScrollRange(100, "ID_SCROLL")
	this.sprScroll.SetHorzScrollPos(0, "ID_SCROLL")
	this.sprScroll.SetTransparency(256)
	this.sprScroll.SetVisible(true)
	screen.AddSprite(50410, this.sprScroll)
	this.selTag := true
	this.selPage := true
	setPage(tagID, pageID, true)
EndFunc

Function AppreciationView::playBgm(Integer id)
	String file
	If (IsUNK1)
	Elseif (id == 0)
		file := "BGM01"
	ElseIf (id == 1)
		file := "BGM03"
	ElseIf (id == 2)
		file := "BGM04"
	ElseIf (id == 3)
		file := "BGM05"
	ElseIf (id == 4)
		file := "BGM06"
	ElseIf (id == 5)
		file := "BGM07"
	ElseIf (id == 6)
		file := "BGM08"
	ElseIf (id == 7)
		file := "BGM09"
	ElseIf (id == 8)
		file := "BGM10"
	ElseIf (id == 9)
		file := "BGM11"
	ElseIf (id == 10)
		file := "BGM12"
	ElseIf (id == 11)
		file := "BGM13"
	ElseIf (id == 12)
		file := "BGM14"
	ElseIf (id == 13)
		file := "BGM15"
	ElseIf (id == 14)
		file := "BGM16"
	ElseIf (id == 15)
		file := "BGM17"
	ElseIf (id == 16)
		file := "BGM18"
	ElseIf (id == 17)
		file := "BGM19"
	ElseIf (id == 18)
		file := "BGM20"
	ElseIf (id == 19)
		file := "BGM21"
	ElseIf (id == 20)
		file := "BGM02_S"
	Else
		Return
	EndIf
	PlayBgm(file, true)
	this.selPlayBgm := id
	this.isPlayBgm := true
EndFunc

Function AppreciationView::playerProc(Reference wscmd)
	If (IsUNK1)
	Elseif (wscmd.strID == "ID_STOP")
		If (IsPlayBgm())
			stopBgm()
			this.selPlayBgm := true
		EndIf
	Elseif (wscmd.strID == "ID_BGM1")
		playBgm(0)
	Elseif (wscmd.strID == "ID_BGM2")
		playBgm(1)
	Elseif (wscmd.strID == "ID_BGM3")
		playBgm(2)
	Elseif (wscmd.strID == "ID_BGM4")
		playBgm(3)
	Elseif (wscmd.strID == "ID_BGM5")
		playBgm(4)
	Elseif (wscmd.strID == "ID_BGM6")
		playBgm(5)
	Elseif (wscmd.strID == "ID_BGM7")
		playBgm(6)
	Elseif (wscmd.strID == "ID_BGM8")
		playBgm(7)
	Elseif (wscmd.strID == "ID_BGM9")
		playBgm(8)
	Elseif (wscmd.strID == "ID_BGM10")
		playBgm(9)
	Elseif (wscmd.strID == "ID_BGM11")
		playBgm(10)
	Elseif (wscmd.strID == "ID_BGM12")
		playBgm(11)
	Elseif (wscmd.strID == "ID_BGM13")
		playBgm(12)
	Elseif (wscmd.strID == "ID_BGM14")
		playBgm(13)
	Elseif (wscmd.strID == "ID_BGM15")
		playBgm(14)
	Elseif (wscmd.strID == "ID_BGM16")
		playBgm(15)
	Elseif (wscmd.strID == "ID_BGM17")
		playBgm(16)
	Elseif (wscmd.strID == "ID_BGM18")
		playBgm(17)
	Elseif (wscmd.strID == "ID_BGM19")
		playBgm(18)
	Elseif (wscmd.strID == "ID_BGM20")
		playBgm(19)
	Elseif (wscmd.strID == "ID_BGM21")
		playBgm(20)
	Else
		Return false
	EndIf
	screen.FlushCommandQueue(true)
	Return true
EndFunc

Function AppreciationView::resetThumbBase()
	For i:=0 To 11
		this.sprThumbBase.SetTransparency(256, "ID_CG" + ConvertToString(i + 1))
		this.sprThumbBase.SetTransparency(256, "ID_CGSEL" + ConvertToString(i + 1))
	Next
	For i:=0 To 5
		this.sprThumbBase.SetTransparency(256, "ID_REC" + ConvertToString(i + 1))
		this.sprThumbBase.SetTransparency(256, "ID_RECSEL" + ConvertToString(i + 1))
	Next
EndFunc

Function AppreciationView::recollectProc(Reference wscmd)
	Integer id := true
	Array aParam
	If (IsUNK1)
	Elseif (wscmd.strID.IsMatchUsage("&ID_RECSEL&(<0-9>*)", aParam) == "")
		id := ConvertToInteger(aParam[0]) - 1
		If (IsUNK1)
		ElseIf ((this.selTag == 0) & (id == 0))
			startRecollect("00_A020")
		ElseIf ((this.selTag == 0) & (id == 1))
			startRecollect("00_A022")
		ElseIf ((this.selTag == 0) & (id == 2))
			startRecollect("00_A025B")
		ElseIf ((this.selTag == 0) & (id == 3))
			startRecollect("00_A026")
		ElseIf ((this.selTag == 0) & (id == 4))
			startRecollect("00_A032")
		ElseIf ((this.selTag == 1) & (id == 0))
			startRecollect("00_B005")
		ElseIf ((this.selTag == 1) & (id == 1))
			startRecollect("00_B021")
		ElseIf ((this.selTag == 1) & (id == 2))
			startRecollect("00_B025")
		ElseIf ((this.selTag == 1) & (id == 3))
			startRecollect("00_B032")
		ElseIf ((this.selTag == 2) & (id == 0))
			startRecollect("00_C019B")
		ElseIf ((this.selTag == 2) & (id == 1))
			startRecollect("00_C023")
		ElseIf ((this.selTag == 2) & (id == 2))
			startRecollect("00_C034")
		ElseIf ((this.selTag == 3) & (id == 0))
			startRecollect("00_D025B")
		ElseIf ((this.selTag == 3) & (id == 1))
			startRecollect("00_D028B")
		ElseIf ((this.selTag == 3) & (id == 2))
			startRecollect("00_D042B")
		ElseIf ((this.selTag == 4) & (id == 0))
			startRecollect("00_E013C")
		ElseIf ((this.selTag == 4) & (id == 1))
			startRecollect("00_E024B")
		ElseIf ((this.selTag == 4) & (id == 2))
			startRecollect("00_E036")
		EndIf
	Else
		Return false
	Endif
	screen.FlushCommandQueue(true)
	Return true
EndFunc

Function AppreciationView::run()
	this.cnfPlayBgm := cnfObj.flgPlayBgm
	cnfObj.flgPlayBgm := true
	SetupAdvScreen()
	show()
	input.FlushJoyButtonPushed()
	screen.FlushCommandQueue(true)
	WndSpriteCmd wscmd
	While (true)
		GetCommand(wscmd, 33)
		If (IsUNK1)
		ElseIf (input.GetJoyButtonPushed(5) > 0)
			Break
		ElseIf (cgProc(wscmd))
		ElseIf (recollectProc(wscmd))
		ElseIf (playerProc(wscmd))
		Endif
	EndWhile
	adv.setCg("BLACK")
	adv.bustupClear()
	adv.update(true)
	DestroyAdvScreen()
	hide(true)
	StopBgm(true)
	cnfObj.flgPlayBgm := this.cnfPlayBgm
EndFunc

Function AppreciationView::setBustupInfo(Reference info, String buFile, Integer pos, Integer priority)
	Integer index := info.GetLength() - 1
	Integer iBustup := info[index].buList.GetLength()
	info[index].buList[iBustup] := BustupViewInfo
	Reference rBustup := info[index].buList[iBustup]
	rBustup.file := buFile
	rBustup.pos := pos
	rBustup.priority := priority
EndFunc

Function AppreciationView::setCgInfo(Reference info, Integer flag, String cgFile, String buFile, Reference pt1, Reference pt2)
	Integer index := info.GetLength()
	info[index] := CgViewInfo
	info[index].flag := flag
	info[index].cgFile := cgFile
	If (pt1.GetType() == "Point")
		info[index].ptCg1 := pt1
	Else
		info[index].ptCg1 := IPoint(0, 0)
	EndIf
	If (pt2.GetType() == "Point")
		info[index].ptCg2 := pt2
		info[index].fScroll := true
	Else
		info[index].fScroll := false
	EndIf
	If (buFile != "")
		setBustupInfo(info, buFile)
	EndIf
EndFunc

Function AppreciationView::setPage(Integer tagID, Integer pageID, Integer fFlush)
	If ((this.selTag == tagID) & (this.selPage == pageID))
		Return false
	EndIf
	screen.Lock()
	If (this.selTag != tagID)
		this.cgViewMan.Remove()
	Endif
	setCgPalette(tagID, pageID)
	SpriteParam param
	Bezier2D bzMov
	Bezier2D bzMag
	Integer y := 38
	For i:=0 To 5
		this.sprTag[i].GetParameter(param)
		bzMov.SetLinear(param.ptDstPos.x, param.ptDstPos.y, 5, y)
		bzMov.SetAcceleration(3.0, 0)
		this.sprTag[i].SetBezierCurve(bzMov)
		y += 38
		If (tagID == i)
			this.sprThumbBase.GetParameter(param)
			bzMov.SetLinear(270, param.ptDstPos.x, 270, y)
			bzMov.SetAcceleration(3.0, 0)
			bzMag.SetLinear(1.0, 0.0, 1.0, 1.0)
			bzMag.SetAcceleration(3.0, 0)
			If (this.selTag != tagID)
				this.sprThumbBase.SetBezierCurve(bzMov, Reference, bzMag)
			EndIf
			this.sprThumbBase.SetTransparency(128)
			this.sprThumbBase.SetBlendingEnvelope(0)
			y += 312
		Endif
	Next
	For i:=0 To 5
		this.sprTag[i].BeginActivation(500)
		If (fFlush)
			this.sprTag[i].FlushActivation()
		EndIf
	Next
	this.sprThumbBase.BeginActivation(500)
	If (fFlush)
		this.sprThumbBase.FlushActivation()
	EndIf
	screen.Unlock()
	this.selTag := tagID
	this.selPage := pageID
EndFunc

Function AppreciationView::showCg(Reference info, Integer fFlush)
	fFlush |= (cnfObj.screenEffect == 1)
	adv.bustupClear()
	this.fScroll := info.fScroll
	If (fFlush == false)
		If (this.fScroll == true)
			this.sprScroll.SetBlendingEnvelope(0)
		Else
			this.sprScroll.SetBlendingEnvelope(256)
		EndIf
		this.sprScroll.BeginActivation(300)
	ElseIf (this.fScroll == true)
		this.sprScroll.SetTransparency(0)
	Else
		this.sprScroll.SetTransparency(256)
	EndIf
	this.sprScroll.SetHorzScrollPos(0, "ID_SCROLL")
	this.scrollT := 0.0
	adv.setCg(info.cgFile, info.ptCg1.x, info.ptCg1.y)
	If (info.buList.GetLength() != 0)
		For i:=0 To (info.buList.GetLength() - 1)
			adv.setBustup(info.buList[i].file, info.buList[i].pos, info.buList[i].priority)
		Next
	EndIf
	adv.update(fFlush)
EndFunc

Function AppreciationView::setCgPalette(Integer tagID, Integer page)
	resetThumbBase()
	Integer cgNum := 0
	If (tagID == 0)
		cgNum := 23
		If (page == 0)
			checkPaletteCg(1, 1, "CA01")
			checkPaletteCg(2, 2, "CA02")
			checkPaletteCg(3, 3, "CA03")
			checkPaletteCg(4, 4, "CA04")
			checkPaletteCg(6, 5, "CA06")
			checkPaletteCg(5, 6, "CA05")
			checkPaletteCg(7, 7, "CA07")
			checkPaletteCg(100, 8, "EA01")
			checkPaletteCg(110, 9, "EA02")
			checkPaletteCg(120, 10, "EA03")
			checkPaletteCg(130, 11, "EA04")
			checkPaletteCg(140, 12, "EA05")
		ElseIf (page == 1)
			checkPaletteCg(150, 1, "EA06")
			checkPaletteCg(160, 2, "EA07")
			checkPaletteCg(170, 3, "EA08")
			checkPaletteCg(180, 4, "EA09")
			checkPaletteCg(190, 5, "EA10")
			checkPaletteCg(200, 6, "EA11")
			checkPaletteCg(210, 7, "EA12")
			checkPaletteCg(220, 8, "EA13")
			checkPaletteCg(250, 9, "EA16")
			checkPaletteCg(260, 10, "EA17")
			checkPaletteCg(270, 11, "EA18")
		ElseIf (page == 3)
			checkPaletteRecollect(1, 1, "REC_SR1")
			checkPaletteRecollect(2, 2, "REC_SR2")
			checkPaletteRecollect(3, 3, "REC_SR3")
			checkPaletteRecollect(4, 4, "REC_SR4")
			checkPaletteRecollect(5, 5, "REC_SR5")
		EndIf
	ElseIf (tagID == 1)
		cgNum := 21
		If (page == 0)
			checkPaletteCg(11, 1, "CB01")
			checkPaletteCg(12, 2, "CB02")
			checkPaletteCg(13, 3, "CB03")
			checkPaletteCg(14, 4, "CB04")
			checkPaletteCg(16, 5, "CB06")
			checkPaletteCg(17, 6, "CB07")
			checkPaletteCg(280, 7, "EB01")
			checkPaletteCg(290, 8, "EB02")
			checkPaletteCg(300, 9, "EB03")
			checkPaletteCg(310, 10, "EB04")
			checkPaletteCg(320, 11, "EB05")
			checkPaletteCg(330, 12, "EB06")
		ElseIf (page == 1)
			checkPaletteCg(340, 1, "EB07")
			checkPaletteCg(350, 2, "EB08")
			checkPaletteCg(370, 3, "EB10")
			checkPaletteCg(380, 4, "EB11")
			checkPaletteCg(390, 5, "EB12")
			checkPaletteCg(400, 6, "EB13")
			checkPaletteCg(430, 7, "EB16")
			checkPaletteCg(440, 8, "EB17")
			checkPaletteCg(450, 9, "EB18")
		ElseIf (page == 3)
			checkPaletteRecollect(6, 1, "REC_NO1")
			checkPaletteRecollect(7, 2, "REC_NO2")
			checkPaletteRecollect(8, 3, "REC_NO3")
			checkPaletteRecollect(9, 4, "REC_NO4")
		EndIf
	Elseif (tagID == 2)
		cgNum := 22
		If (page == 0)
			checkPaletteCg(21, 1, "CC01")
			checkPaletteCg(22, 2, "CC02")
			checkPaletteCg(23, 3, "CC03")
			checkPaletteCg(26, 4, "CC06")
			checkPaletteCg(24, 5, "CC04")
			checkPaletteCg(28, 6, "CC08")
			checkPaletteCg(25, 7, "CC05")
			checkPaletteCg(27, 8, "CC07")
			checkPaletteCg(460, 9, "EC01")
			checkPaletteCg(470, 10, "EC02")
			checkPaletteCg(480, 11, "EC03")
			checkPaletteCg(500, 12, "EC05")
		ElseIf (page == 1)
			checkPaletteCg(510, 1, "EC06")
			checkPaletteCg(520, 2, "EC07")
			checkPaletteCg(540, 3, "EC09")
			checkPaletteCg(550, 4, "EC10")
			checkPaletteCg(560, 5, "EC11")
			checkPaletteCg(570, 6, "EC12")
			checkPaletteCg(580, 7, "EC13")
			checkPaletteCg(610, 8, "EC16")
			checkPaletteCg(620, 9, "EC17")
			checkPaletteCg(630, 10, "EC18")
		ElseIf (page == 3)
			checkPaletteRecollect(10, 1, "REC_AK1")
			checkPaletteRecollect(11, 2, "REC_AK2")
			checkPaletteRecollect(12, 3, "REC_AK3")
		EndIf
	ElseIf (tagID == 3)
		cgNum := 22
		If (page == 0)
			checkPaletteCg(31, 1, "CD01")
			checkPaletteCg(32, 2, "CD02")
			checkPaletteCg(33, 3, "CD03")
			checkPaletteCg(34, 4, "CD04")
			checkPaletteCg(37, 5, "CD07")
			checkPaletteCg(35, 6, "CD05")
			checkPaletteCg(36, 7, "CD06")
			checkPaletteCg(640, 8, "ED01")
			checkPaletteCg(650, 9, "ED02")
			checkPaletteCg(660, 10, "ED03")
			checkPaletteCg(670, 11, "ED04")
			checkPaletteCg(680, 12, "ED05")
		ElseIf (page == 1)
			checkPaletteCg(690, 1, "ED06")
			checkPaletteCg(700, 2, "ED07")
			checkPaletteCg(720, 3, "ED09")
			checkPaletteCg(730, 4, "ED10")
			checkPaletteCg(740, 5, "ED11")
			checkPaletteCg(750, 6, "ED12")
			checkPaletteCg(760, 7, "ED13")
			checkPaletteCg(790, 8, "ED16")
			checkPaletteCg(800, 9, "ED17")
			checkPaletteCg(810, 10, "ED18")
		ElseIf (page == 3)
			checkPaletteRecollect(13, 1, "REC_KA1")
			checkPaletteRecollect(14, 2, "REC_KA2")
			checkPaletteRecollect(15, 3, "REC_KA3")
		EndIf
	ElseIf (tagID == 4)
		cgNum := 19
		If (page == 0)
			checkPaletteCg(41, 1, "CE01")
			checkPaletteCg(42, 2, "CE02")
			checkPaletteCg(43, 3, "CE03")
			checkPaletteCg(44, 4, "CE04")
			checkPaletteCg(820, 5, "EE01")
			checkPaletteCg(830, 6, "EE02")
			checkPaletteCg(840, 7, "EE03")
			checkPaletteCg(850, 8, "EE04")
			checkPaletteCg(860, 9, "EE05")
			checkPaletteCg(870, 10, "EE06")
			checkPaletteCg(880, 11, "EE07")
			checkPaletteCg(890, 12, "EE08")
		ElseIf (page == 1)
			checkPaletteCg(910, 1, "EE10")
			checkPaletteCg(920, 2, "EE11")
			checkPaletteCg(930, 3, "EE12")
			checkPaletteCg(940, 4, "EE13")
			checkPaletteCg(970, 5, "EE16")
			checkPaletteCg(980, 6, "EE17")
			checkPaletteCg(990, 7, "EE18")
		ElseIf (page == 3)
			checkPaletteRecollect(16, 1, "REC_MT1")
			checkPaletteRecollect(17, 2, "REC_MT2")
			checkPaletteRecollect(18, 3, "REC_MT3")
		EndIf
	ElseIf (tagID == 5)
		cgNum := 21
		If (page == 0)
			checkPaletteCg(51, 1, "CF01")
			checkPaletteCg(52, 2, "CF02")
			checkPaletteCg(53, 3, "CF03")
			checkPaletteCg(54, 4, "CF04")
			checkPaletteCg(55, 5, "CF05")
			checkPaletteCg(56, 6, "CF06")
			checkPaletteCg(61, 7, "CG01")
			checkPaletteCg(62, 8, "CG02")
			checkPaletteCg(63, 9, "CG03")
			checkPaletteCg(71, 10, "CH01")
			checkPaletteCg(72, 11, "CH02")
			checkPaletteCg(74, 12, "CH04")
		ElseIf (page == 1)
			checkPaletteCg(77, 1, "CH07")
			checkPaletteCg(75, 2, "CH05")
			checkPaletteCg(76, 3, "CH06")
			checkPaletteCg(81, 4, "CJ01")
			checkPaletteCg(91, 5, "CK01")
			checkPaletteCg(1000, 6, "EZ01")
			checkPaletteCg(1030, 7, "EZ04")
			checkPaletteCg(1040, 8, "EZ05")
			checkPaletteCg(1050, 9, "EZ06")
		EndIf
	EndIf
	For i:=0 To (cgNum - 1)
		this.cgViewMan[i] := CgViewManager
	Next
EndFunc

Function AppreciationView::showCgLoop(Integer charID, Integer id)
	Integer fFlush := (cnfObj.screenEffect == 1)
	Integer index
	Integer length
	setupCgViewInfo(charID, id)
	index := 0
	length := this.cgViewMan[id].thumbInfo.GetLength()
	While (index < length)
		If (CheckCgFlag(this.cgViewMan[id].thumbInfo[index].flag))
			Break
		EndIf
		index += 1
	EndWhile
	showCg(this.cgViewMan[id].thumbInfo[index], true)
	hide()
	Integer CG_VIEW_MAX := this.cgViewMan.GetLength()
	WndSpriteCmd wscmd
	input.FlushJoyButtonPushed()
	While (true)
		GetCommand(wscmd, 33)
		If (IsUNK1)
		ElseIf (input.GetJoyButtonPushed(0) > 0)
			id -= 1
			index := true
			If (id < 0)
				id := CG_VIEW_MAX - 1
			EndIf
			setupCgViewInfo(charID, id)
			length := this.cgViewMan[id].thumbInfo.GetLength()
			While (true)
				index += 1
				If (index >= length)
					index := 0
					id -= 1
				EndIf
				If (id < 0)
					id := CG_VIEW_MAX - 1
				EndIf
				setupCgViewInfo(charID, id)
				length := this.cgViewMan[id].thumbInfo.GetLength()
				If (CheckCgFlag(this.cgViewMan[id].thumbInfo[index].flag))
					Break
				EndIf
			EndWhile
			showCg(this.cgViewMan[id].thumbInfo[index])
			input.FlushJoyButtonPushed()
		ElseIf (input.GetJoyButtonPushed(1) > 0)
			id += 1
			index := true
			If (id >= CG_VIEW_MAX)
				id := 0
			EndIf
			setupCgViewInfo(charID, id)
			length := this.cgViewMan[id].thumbInfo.GetLength()
			While (true)
				index += 1
				If (index >= length)
					index := 0
					id += 1
				EndIf
				If (id >= CG_VIEW_MAX)
					id := 0
				EndIf
				setupCgViewInfo(charID, id)
				length := this.cgViewMan[id].thumbInfo.GetLength()
				If (CheckCgFlag(this.cgViewMan[id].thumbInfo[index].flag))
					Break
				EndIf
			EndWhile
			showCg(this.cgViewMan[id].thumbInfo[index])
			input.FlushJoyButtonPushed()
		ElseIf (input.GetJoyButtonPushed(4) > 0)
			While (true)
				index += 1
				If (index >= length)
					index := false
					id += 1
				EndIf
				If (id >= CG_VIEW_MAX)
					id := 0
				EndIf
				setupCgViewInfo(charID, id)
				length := this.cgViewMan[id].thumbInfo.GetLength()
				If (CheckCgFlag(this.cgViewMan[id].thumbInfo[index].flag))
					Break
				EndIf
			EndWhile
			showCg(this.cgViewMan[id].thumbInfo[index])
			input.FlushJoyButtonPushed()
		ElseIf ((wscmd.strID == "ID_CLOSE") | (input.GetJoyButtonPushed(8) > 0))
			this.sprScroll.SetTransparency(256)
			input.FlushJoyButtonPushed()
		ElseIf (wscmd.strID == "ID_SCROLL")
			this.scrollT := ConvertToReal(this.sprScroll.GetHorzScrollPos("ID_SCROLL")) / 100
			Reference info
			info := this.cgViewMan[id].thumbInfo[index]
			Bezier2D bzPt
			bzPt.SetLinear(info.ptCg1.x, info.ptCg1.y, info.ptCg2.x, info.ptCg2.y)
			Vector2D pt
			pt := bzPt.pt(this.scrollT)
			adv.sprCg.MovePosition(-pt.x, -pt.y)
			input.FlushJoyButtonPushed()
		ElseIf ((input.GetJoyButtonPushed(2) > 0) & (this.fScroll == true))
			this.sprScroll.SetHorzScrollPos(this.sprScroll.GetHorzScrollPos("ID_SCROLL") - 10, "ID_SCROLL")
			this.scrollT := ConvertToReal(this.sprScroll.GetHorzScrollPos("ID_SCROLL")) / 100
			Reference info
			info := this.cgViewMan[id].thumbInfo[index]
			Bezier2D bzPt
			bzPt.SetLinear(info.ptCg1.x, info.ptCg1.y, info.ptCg2.x, info.ptCg2.y)
			Vector2D pt
			pt := bzPt.pt(this.scrollT)
			adv.sprCg.MovePosition(-pt.x, -pt.y)
			input.FlushJoyButtonPushed()
		ElseIf ((input.GetJoyButtonPushed(3) > 0) & (this.fScroll == true))
			this.sprScroll.SetHorzScrollPos(this.sprScroll.GetHorzScrollPos("ID_SCROLL") + 10, "ID_SCROLL")
			this.scrollT := ConvertToReal(this.sprScroll.GetHorzScrollPos("ID_SCROLL")) / 100
			Reference info
			info := this.cgViewMan[id].thumbInfo[index]
			Bezier2D bzPt
			bzPt.SetLinear(info.ptCg1.x, info.ptCg1.y, info.ptCg2.x, info.ptCg2.y)
			Vector2D pt
			pt := bzPt.pt(this.scrollT)
			adv.sprCg.MovePosition(-pt.x, -pt.y)
			input.FlushJoyButtonPushed()
		ElseIf (input.GetJoyButtonPushed(5) > 0)
			If ((this.fScroll == true) & (this.sprScroll.IsVisible() == false))
				this.sprScroll.SetTransparency(0)
			Else
				Break
			EndIf
			input.FlushJoyButtonPushed()
		EndIf
	EndWhile
	input.FlushJoyButtonPushed()
	show()
EndFunc

Function AppreciationView::setupCgViewInfo(Integer tagID, Integer id)
	Reference rTarget
	rTarget := this.cgViewMan[id].thumbInfo
	If (IsUNK1)
	ElseIf (tagID == 0)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 1, "B17A", "CA01_01M")
				setCgInfo(rTarget, 1, "B17A", "CA01_02M")
				setCgInfo(rTarget, 1, "B17A", "CA01_03M")
				setCgInfo(rTarget, 1, "B17A", "CA01_04M")
				setCgInfo(rTarget, 1, "B17A", "CA01_05M")
				setCgInfo(rTarget, 1, "B17A", "CA01_06M")
				setCgInfo(rTarget, 1, "B17A", "CA01_07M")
				setCgInfo(rTarget, 1, "B17A", "CA01_08M")
				setCgInfo(rTarget, 1, "B17A", "CA01_09M")
				setCgInfo(rTarget, 1, "B17A", "CA01_10M")
				setCgInfo(rTarget, 1, "B17A", "CA01_11M")
				setCgInfo(rTarget, 1, "B17A", "CA01_12M")
				setCgInfo(rTarget, 1, "B17A", "CA01_13M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 2, "B01a", "CA02_01M")
				setCgInfo(rTarget, 2, "B01a", "CA02_02M")
				setCgInfo(rTarget, 2, "B01a", "CA02_03M")
				setCgInfo(rTarget, 2, "B01a", "CA02_04M")
				setCgInfo(rTarget, 2, "B01a", "CA02_05M")
				setCgInfo(rTarget, 2, "B01a", "CA02_06M")
				setCgInfo(rTarget, 2, "B01a", "CA02_07M")
				setCgInfo(rTarget, 2, "B01a", "CA02_08M")
				setCgInfo(rTarget, 2, "B01a", "CA02_09M")
				setCgInfo(rTarget, 2, "B01a", "CA02_10M")
				setCgInfo(rTarget, 2, "B01a", "CA02_11M")
				setCgInfo(rTarget, 2, "B01a", "CA02_12M")
				setCgInfo(rTarget, 2, "B01a", "CA02_13M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 3, "B03a", "CA03_01M")
				setCgInfo(rTarget, 3, "B03a", "CA03_02M")
				setCgInfo(rTarget, 3, "B03a", "CA03_03M")
				setCgInfo(rTarget, 3, "B03a", "CA03_04M")
				setCgInfo(rTarget, 3, "B03a", "CA03_05M")
				setCgInfo(rTarget, 3, "B03a", "CA03_06M")
				setCgInfo(rTarget, 3, "B03a", "CA03_07M")
				setCgInfo(rTarget, 3, "B03a", "CA03_08M")
				setCgInfo(rTarget, 3, "B03a", "CA03_09M")
				setCgInfo(rTarget, 3, "B03a", "CA03_10M")
				setCgInfo(rTarget, 3, "B03a", "CA03_11M")
				setCgInfo(rTarget, 3, "B03a", "CA03_12M")
				setCgInfo(rTarget, 3, "B03a", "CA03_13M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 4, "B21a", "CA04_01M")
				setCgInfo(rTarget, 4, "B21a", "CA04_02M")
				setCgInfo(rTarget, 4, "B21a", "CA04_03M")
				setCgInfo(rTarget, 4, "B21a", "CA04_04M")
				setCgInfo(rTarget, 4, "B21a", "CA04_05M")
				setCgInfo(rTarget, 4, "B21a", "CA04_06M")
				setCgInfo(rTarget, 4, "B21a", "CA04_07M")
				setCgInfo(rTarget, 4, "B21a", "CA04_08M")
				setCgInfo(rTarget, 4, "B21a", "CA04_09M")
				setCgInfo(rTarget, 4, "B21a", "CA04_10M")
				setCgInfo(rTarget, 4, "B21a", "CA04_11M")
				setCgInfo(rTarget, 4, "B21a", "CA04_12M")
				setCgInfo(rTarget, 4, "B21a", "CA04_13M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 6, "B21a", "CA06_01S")
				setCgInfo(rTarget, 6, "B21a", "CA06_02S")
				setCgInfo(rTarget, 6, "B21a", "CA06_03S")
				setCgInfo(rTarget, 6, "B21a", "CA06_04S")
				setCgInfo(rTarget, 6, "B21a", "CA06_05S")
				setCgInfo(rTarget, 6, "B21a", "CA06_06S")
				setCgInfo(rTarget, 6, "B21a", "CA06_07S")
				setCgInfo(rTarget, 6, "B21a", "CA06_08S")
				setCgInfo(rTarget, 6, "B21a", "CA06_09S")
				setCgInfo(rTarget, 6, "B21a", "CA06_10S")
				setCgInfo(rTarget, 6, "B21a", "CA06_11S")
				setCgInfo(rTarget, 6, "B21a", "CA06_12S")
				setCgInfo(rTarget, 6, "B21a", "CA06_13S")
			ElseIf (id == 5)
				setCgInfo(rTarget, 5, "B20a", "CA05_01M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_02M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_03M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_04M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_05M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_06M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_07M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_08M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_09M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_10M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_11M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_12M", IPoint(400, 0))
				setCgInfo(rTarget, 5, "B20a", "CA05_13M", IPoint(400, 0))
			ElseIf (id == 6)
				setCgInfo(rTarget, 7, "B23a", "CA07_01M")
				setCgInfo(rTarget, 7, "B23a", "CA07_02M")
				setCgInfo(rTarget, 7, "B23a", "CA07_03M")
				setCgInfo(rTarget, 7, "B23a", "CA07_04M")
				setCgInfo(rTarget, 7, "B23a", "CA07_05M")
				setCgInfo(rTarget, 7, "B23a", "CA07_06M")
				setCgInfo(rTarget, 7, "B23a", "CA07_07M")
				setCgInfo(rTarget, 7, "B23a", "CA07_08M")
				setCgInfo(rTarget, 7, "B23a", "CA07_09M")
				setCgInfo(rTarget, 7, "B23a", "CA07_10M")
				setCgInfo(rTarget, 7, "B23a", "CA07_11M")
				setCgInfo(rTarget, 7, "B23a", "CA07_12M")
				setCgInfo(rTarget, 7, "B23a", "CA07_13M")
			ElseIf (id == 7)
				setCgInfo(rTarget, 101, "EA01A")
				setCgInfo(rTarget, 102, "EA01B")
				setCgInfo(rTarget, 103, "EA01C")
				setCgInfo(rTarget, 104, "EA01D")
				setCgInfo(rTarget, 105, "EA01E")
				setCgInfo(rTarget, 106, "EA01F")
				setCgInfo(rTarget, 107, "EA01G")
				setCgInfo(rTarget, 108, "EA01H")
			ElseIf (id == 8)
				setCgInfo(rTarget, 111, "EA02")
			ElseIf (id == 9)
				setCgInfo(rTarget, 121, "EA03A")
				setCgInfo(rTarget, 122, "EA03B")
			ElseIf (id == 10)
				setCgInfo(rTarget, 131, "EA04A")
				setCgInfo(rTarget, 132, "EA04B")
				setCgInfo(rTarget, 133, "EA04C")
			ElseIf (id == 11)
				setCgInfo(rTarget, 141, "EA05")
			ElseIf (id == 12)
				setCgInfo(rTarget, 151, "EA06a", "", IPoint(269, 0), IPoint(0, 266))
				setCgInfo(rTarget, 152, "EA06b", "", IPoint(269, 0), IPoint(0, 266))
				setCgInfo(rTarget, 153, "EA06c", "", IPoint(269, 0), IPoint(0, 266))
			ElseIf (id == 13)
				setCgInfo(rTarget, 161, "EA07")
			ElseIf (id == 14)
				setCgInfo(rTarget, 171, "EA08A", "", IPoint(0, 700), IPoint(0, 0))
				setCgInfo(rTarget, 172, "EA08B", "", IPoint(0, 700), IPoint(0, 0))
				setCgInfo(rTarget, 173, "EA08C", "", IPoint(0, 700), IPoint(0, 0))
			ElseIf (id == 15)
				setCgInfo(rTarget, 181, "EA09A")
				setCgInfo(rTarget, 182, "EA09B")
				setCgInfo(rTarget, 183, "EA09C")
				setCgInfo(rTarget, 184, "EA09D")
			ElseIf (id == 16)
				setCgInfo(rTarget, 191, "EA10A")
				setCgInfo(rTarget, 192, "EA10B")
				setCgInfo(rTarget, 193, "EA10C")
				setCgInfo(rTarget, 194, "EA10D")
			ElseIf (id == 17)
				setCgInfo(rTarget, 201, "EA11A")
				setCgInfo(rTarget, 202, "EA11B")
				setCgInfo(rTarget, 203, "EA11C")
				setCgInfo(rTarget, 203, "EA11D")
			ElseIf (id == 18)
				setCgInfo(rTarget, 211, "EA12A")
				setCgInfo(rTarget, 212, "EA12B")
				setCgInfo(rTarget, 213, "EA12C")
			ElseIf (id == 19)
				setCgInfo(rTarget, 221, "EA13A")
				setCgInfo(rTarget, 222, "EA13B")
				setCgInfo(rTarget, 223, "EA13C")
			ElseIf (id == 20)
				setCgInfo(rTarget, 251, "EA16A")
				setCgInfo(rTarget, 252, "EA16B")
			ElseIf (id == 21)
				setCgInfo(rTarget, 261, "EA17A")
				setCgInfo(rTarget, 262, "EA17B")
				setCgInfo(rTarget, 263, "EA17C")
			ElseIf (id == 22)
				setCgInfo(rTarget, 271, "EA18A")
				setCgInfo(rTarget, 272, "EA18B")
			EndIf
		EndIf
	ElseIf (tagID == 1)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 11, "B18A", "CB01_01M")
				setCgInfo(rTarget, 11, "B18A", "CB01_02M")
				setCgInfo(rTarget, 11, "B18A", "CB01_03M")
				setCgInfo(rTarget, 11, "B18A", "CB01_04M")
				setCgInfo(rTarget, 11, "B18A", "CB01_05M")
				setCgInfo(rTarget, 11, "B18A", "CB01_06M")
				setCgInfo(rTarget, 11, "B18A", "CB01_07M")
				setCgInfo(rTarget, 11, "B18A", "CB01_08M")
				setCgInfo(rTarget, 11, "B18A", "CB01_09M")
				setCgInfo(rTarget, 11, "B18A", "CB01_10M")
				setCgInfo(rTarget, 11, "B18A", "CB01_11M")
				setCgInfo(rTarget, 11, "B18A", "CB01_12M")
				setCgInfo(rTarget, 11, "B18A", "CB01_13M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 12, "B12a", "CB02_01M")
				setCgInfo(rTarget, 12, "B12a", "CB02_02M")
				setCgInfo(rTarget, 12, "B12a", "CB02_03M")
				setCgInfo(rTarget, 12, "B12a", "CB02_04M")
				setCgInfo(rTarget, 12, "B12a", "CB02_05M")
				setCgInfo(rTarget, 12, "B12a", "CB02_06M")
				setCgInfo(rTarget, 12, "B12a", "CB02_07M")
				setCgInfo(rTarget, 12, "B12a", "CB02_08M")
				setCgInfo(rTarget, 12, "B12a", "CB02_09M")
				setCgInfo(rTarget, 12, "B12a", "CB02_10M")
				setCgInfo(rTarget, 12, "B12a", "CB02_11M")
				setCgInfo(rTarget, 12, "B12a", "CB02_12M")
				setCgInfo(rTarget, 12, "B12a", "CB02_13M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 13, "B06a", "CB03_01M")
				setCgInfo(rTarget, 13, "B06a", "CB03_02M")
				setCgInfo(rTarget, 13, "B06a", "CB03_03M")
				setCgInfo(rTarget, 13, "B06a", "CB03_04M")
				setCgInfo(rTarget, 13, "B06a", "CB03_05M")
				setCgInfo(rTarget, 13, "B06a", "CB03_06M")
				setCgInfo(rTarget, 13, "B06a", "CB03_07M")
				setCgInfo(rTarget, 13, "B06a", "CB03_08M")
				setCgInfo(rTarget, 13, "B06a", "CB03_09M")
				setCgInfo(rTarget, 13, "B06a", "CB03_10M")
				setCgInfo(rTarget, 13, "B06a", "CB03_11M")
				setCgInfo(rTarget, 13, "B06a", "CB03_12M")
				setCgInfo(rTarget, 13, "B06a", "CB03_13M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 14, "B21a", "CB04_01M")
				setCgInfo(rTarget, 14, "B21a", "CB04_02M")
				setCgInfo(rTarget, 14, "B21a", "CB04_03M")
				setCgInfo(rTarget, 14, "B21a", "CB04_04M")
				setCgInfo(rTarget, 14, "B21a", "CB04_05M")
				setCgInfo(rTarget, 14, "B21a", "CB04_06M")
				setCgInfo(rTarget, 14, "B21a", "CB04_07M")
				setCgInfo(rTarget, 14, "B21a", "CB04_08M")
				setCgInfo(rTarget, 14, "B21a", "CB04_09M")
				setCgInfo(rTarget, 14, "B21a", "CB04_10M")
				setCgInfo(rTarget, 14, "B21a", "CB04_11M")
				setCgInfo(rTarget, 14, "B21a", "CB04_12M")
				setCgInfo(rTarget, 14, "B21a", "CB04_13M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 16, "B21a", "CB06_01M")
				setCgInfo(rTarget, 16, "B21a", "CB06_02M")
				setCgInfo(rTarget, 16, "B21a", "CB06_03M")
				setCgInfo(rTarget, 16, "B21a", "CB06_04M")
				setCgInfo(rTarget, 16, "B21a", "CB06_05M")
				setCgInfo(rTarget, 16, "B21a", "CB06_06M")
				setCgInfo(rTarget, 16, "B21a", "CB06_07M")
				setCgInfo(rTarget, 16, "B21a", "CB06_08M")
				setCgInfo(rTarget, 16, "B21a", "CB06_09M")
				setCgInfo(rTarget, 16, "B21a", "CB06_10M")
				setCgInfo(rTarget, 16, "B21a", "CB06_11M")
				setCgInfo(rTarget, 16, "B21a", "CB06_12M")
				setCgInfo(rTarget, 16, "B21a", "CB06_13M")
			ElseIf (id == 5)
				setCgInfo(rTarget, 17, "B23a", "CB07_01M")
				setCgInfo(rTarget, 17, "B23a", "CB07_02M")
				setCgInfo(rTarget, 17, "B23a", "CB07_03M")
				setCgInfo(rTarget, 17, "B23a", "CB07_04M")
				setCgInfo(rTarget, 17, "B23a", "CB07_05M")
				setCgInfo(rTarget, 17, "B23a", "CB07_06M")
				setCgInfo(rTarget, 17, "B23a", "CB07_07M")
				setCgInfo(rTarget, 17, "B23a", "CB07_08M")
				setCgInfo(rTarget, 17, "B23a", "CB07_09M")
				setCgInfo(rTarget, 17, "B23a", "CB07_10M")
				setCgInfo(rTarget, 17, "B23a", "CB07_11M")
				setCgInfo(rTarget, 17, "B23a", "CB07_12M")
				setCgInfo(rTarget, 17, "B23a", "CB07_13M")
			ElseIf (id == 6)
				setCgInfo(rTarget, 281, "EB01A")
				setCgInfo(rTarget, 282, "EB01B")
			ElseIf (id == 7)
				setCgInfo(rTarget, 291, "EB02A")
				setCgInfo(rTarget, 292, "EB02B")
			ElseIf (id == 8)
				setCgInfo(rTarget, 301, "EB03")
			ElseIf (id == 9)
				setCgInfo(rTarget, 311, "EB04A")
				setCgInfo(rTarget, 312, "EB04B")
				setCgInfo(rTarget, 313, "EB04A_")
			ElseIf (id == 10)
				setCgInfo(rTarget, 321, "EB05")
			ElseIf (id == 11)
				setCgInfo(rTarget, 331, "EB06A", "", IPoint(0, 0), IPoint(0, 258))
				setCgInfo(rTarget, 332, "EB06B", "", IPoint(0, 0), IPoint(0, 258))
			ElseIf (id == 12)
				setCgInfo(rTarget, 341, "EB07A")
				setCgInfo(rTarget, 342, "EB07B")
			ElseIf (id == 13)
				setCgInfo(rTarget, 351, "EB08A")
				setCgInfo(rTarget, 352, "EB08B")
				setCgInfo(rTarget, 353, "EB08C")
				setCgInfo(rTarget, 354, "EB08A_")
				setCgInfo(rTarget, 355, "EB08B_")
			ElseIf (id == 14)
				setCgInfo(rTarget, 371, "EB10A")
				setCgInfo(rTarget, 372, "EB10B")
			ElseIf (id == 15)
				setCgInfo(rTarget, 381, "EB11A")
				setCgInfo(rTarget, 382, "EB11B")
			ElseIf (id == 16)
				setCgInfo(rTarget, 391, "EB12A")
				setCgInfo(rTarget, 392, "EB12B")
				setCgInfo(rTarget, 393, "EB12C")
			ElseIf (id == 17)
				setCgInfo(rTarget, 401, "EB13A")
				setCgInfo(rTarget, 402, "EB13B")
			ElseIf (id == 18)
				setCgInfo(rTarget, 431, "EB16A")
				setCgInfo(rTarget, 432, "EB16B")
				setCgInfo(rTarget, 433, "EB16C")
			ElseIf (id == 19)
				setCgInfo(rTarget, 441, "EB17A")
				setCgInfo(rTarget, 442, "EB17B")
				setCgInfo(rTarget, 443, "EB17C")
			ElseIf (id == 20)
				setCgInfo(rTarget, 451, "EB18")
			EndIf
		EndIf
	ElseIf (tagID == 2)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 21, "B19a", "CC01_01M")
				setCgInfo(rTarget, 21, "B19a", "CC01_02M")
				setCgInfo(rTarget, 21, "B19a", "CC01_03M")
				setCgInfo(rTarget, 21, "B19a", "CC01_04M")
				setCgInfo(rTarget, 21, "B19a", "CC01_05M")
				setCgInfo(rTarget, 21, "B19a", "CC01_06M")
				setCgInfo(rTarget, 21, "B19a", "CC01_07M")
				setCgInfo(rTarget, 21, "B19a", "CC01_08M")
				setCgInfo(rTarget, 21, "B19a", "CC01_09M")
				setCgInfo(rTarget, 21, "B19a", "CC01_10M")
				setCgInfo(rTarget, 21, "B19a", "CC01_11M")
				setCgInfo(rTarget, 21, "B19a", "CC01_12M")
				setCgInfo(rTarget, 21, "B19a", "CC01_13M")
				setCgInfo(rTarget, 21, "B19a", "CC01_14M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 22, "B12a", "CC02_01M")
				setCgInfo(rTarget, 22, "B12a", "CC02_02M")
				setCgInfo(rTarget, 22, "B12a", "CC02_03M")
				setCgInfo(rTarget, 22, "B12a", "CC02_04M")
				setCgInfo(rTarget, 22, "B12a", "CC02_05M")
				setCgInfo(rTarget, 22, "B12a", "CC02_06M")
				setCgInfo(rTarget, 22, "B12a", "CC02_07M")
				setCgInfo(rTarget, 22, "B12a", "CC02_08M")
				setCgInfo(rTarget, 22, "B12a", "CC02_09M")
				setCgInfo(rTarget, 22, "B12a", "CC02_10M")
				setCgInfo(rTarget, 22, "B12a", "CC02_11M")
				setCgInfo(rTarget, 22, "B12a", "CC02_12M")
				setCgInfo(rTarget, 22, "B12a", "CC02_13M")
				setCgInfo(rTarget, 22, "B12a", "CC02_14M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 23, "B07a", "CC03_01M")
				setCgInfo(rTarget, 23, "B07a", "CC03_02M")
				setCgInfo(rTarget, 23, "B07a", "CC03_03M")
				setCgInfo(rTarget, 23, "B07a", "CC03_04M")
				setCgInfo(rTarget, 23, "B07a", "CC03_05M")
				setCgInfo(rTarget, 23, "B07a", "CC03_06M")
				setCgInfo(rTarget, 23, "B07a", "CC03_07M")
				setCgInfo(rTarget, 23, "B07a", "CC03_08M")
				setCgInfo(rTarget, 23, "B07a", "CC03_09M")
				setCgInfo(rTarget, 23, "B07a", "CC03_10M")
				setCgInfo(rTarget, 23, "B07a", "CC03_11M")
				setCgInfo(rTarget, 23, "B07a", "CC03_12M")
				setCgInfo(rTarget, 23, "B07a", "CC03_13M")
				setCgInfo(rTarget, 23, "B07a", "CC03_14M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 26, "B07a", "CC06_01M")
				setCgInfo(rTarget, 26, "B07a", "CC06_02M")
				setCgInfo(rTarget, 26, "B07a", "CC06_03M")
				setCgInfo(rTarget, 26, "B07a", "CC06_04M")
				setCgInfo(rTarget, 26, "B07a", "CC06_05M")
				setCgInfo(rTarget, 26, "B07a", "CC06_06M")
				setCgInfo(rTarget, 26, "B07a", "CC06_07M")
				setCgInfo(rTarget, 26, "B07a", "CC06_08M")
				setCgInfo(rTarget, 26, "B07a", "CC06_09M")
				setCgInfo(rTarget, 26, "B07a", "CC06_10M")
				setCgInfo(rTarget, 26, "B07a", "CC06_11M")
				setCgInfo(rTarget, 26, "B07a", "CC06_12M")
				setCgInfo(rTarget, 26, "B07a", "CC06_13M")
				setCgInfo(rTarget, 26, "B07a", "CC06_14M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 24, "B21a", "CC04_01M")
				setCgInfo(rTarget, 24, "B21a", "CC04_02M")
				setCgInfo(rTarget, 24, "B21a", "CC04_03M")
				setCgInfo(rTarget, 24, "B21a", "CC04_04M")
				setCgInfo(rTarget, 24, "B21a", "CC04_05M")
				setCgInfo(rTarget, 24, "B21a", "CC04_06M")
				setCgInfo(rTarget, 24, "B21a", "CC04_07M")
				setCgInfo(rTarget, 24, "B21a", "CC04_08M")
				setCgInfo(rTarget, 24, "B21a", "CC04_09M")
				setCgInfo(rTarget, 24, "B21a", "CC04_10M")
				setCgInfo(rTarget, 24, "B21a", "CC04_11M")
				setCgInfo(rTarget, 24, "B21a", "CC04_12M")
				setCgInfo(rTarget, 24, "B21a", "CC04_13M")
				setCgInfo(rTarget, 24, "B21a", "CC04_14M")
			ElseIf (id == 5)
				setCgInfo(rTarget, 28, "B21a", "CC08_01S")
				setCgInfo(rTarget, 28, "B21a", "CC08_02S")
				setCgInfo(rTarget, 28, "B21a", "CC08_03S")
				setCgInfo(rTarget, 28, "B21a", "CC08_04S")
				setCgInfo(rTarget, 28, "B21a", "CC08_05S")
				setCgInfo(rTarget, 28, "B21a", "CC08_06S")
				setCgInfo(rTarget, 28, "B21a", "CC08_07S")
				setCgInfo(rTarget, 28, "B21a", "CC08_08S")
				setCgInfo(rTarget, 28, "B21a", "CC08_09S")
				setCgInfo(rTarget, 28, "B21a", "CC08_10S")
				setCgInfo(rTarget, 28, "B21a", "CC08_11S")
				setCgInfo(rTarget, 28, "B21a", "CC08_12S")
				setCgInfo(rTarget, 28, "B21a", "CC08_13S")
				setCgInfo(rTarget, 28, "B21a", "CC08_14S")
			ElseIf (id == 6)
				setCgInfo(rTarget, 25, "B20a", "CC05_01M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_02M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_03M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_04M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_05M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_06M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_07M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_08M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_09M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_10M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_11M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_12M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_13M", IPoint(400, 0))
				setCgInfo(rTarget, 25, "B20a", "CC05_14M", IPoint(400, 0))
			ElseIf (id == 7)
				setCgInfo(rTarget, 27, "B23a", "CC07_01M")
				setCgInfo(rTarget, 27, "B23a", "CC07_02M")
				setCgInfo(rTarget, 27, "B23a", "CC07_03M")
				setCgInfo(rTarget, 27, "B23a", "CC07_04M")
				setCgInfo(rTarget, 27, "B23a", "CC07_05M")
				setCgInfo(rTarget, 27, "B23a", "CC07_06M")
				setCgInfo(rTarget, 27, "B23a", "CC07_07M")
				setCgInfo(rTarget, 27, "B23a", "CC07_08M")
				setCgInfo(rTarget, 27, "B23a", "CC07_09M")
				setCgInfo(rTarget, 27, "B23a", "CC07_10M")
				setCgInfo(rTarget, 27, "B23a", "CC07_11M")
				setCgInfo(rTarget, 27, "B23a", "CC07_12M")
				setCgInfo(rTarget, 27, "B23a", "CC07_13M")
				setCgInfo(rTarget, 27, "B23a", "CC07_14M")
			ElseIf (id == 8)
				setCgInfo(rTarget, 461, "EC01A")
				setCgInfo(rTarget, 462, "EC01B")
			ElseIf (id == 9)
				setCgInfo(rTarget, 471, "EC02A")
				setCgInfo(rTarget, 472, "EC02B")
				setCgInfo(rTarget, 473, "EC02C")
			ElseIf (id == 10)
				setCgInfo(rTarget, 481, "EC03A")
				setCgInfo(rTarget, 482, "EC03B")
				setCgInfo(rTarget, 483, "EC03C")
				setCgInfo(rTarget, 484, "EC03D")
			ElseIf (id == 11)
				setCgInfo(rTarget, 501, "EC05A")
				setCgInfo(rTarget, 502, "EC05B")
			ElseIf (id == 12)
				setCgInfo(rTarget, 511, "EC06A", "", IPoint(0, 0), IPoint(0, 370))
				setCgInfo(rTarget, 512, "EC06B", "", IPoint(0, 0), IPoint(0, 370))
			ElseIf (id == 13)
				setCgInfo(rTarget, 521, "EC07A")
				setCgInfo(rTarget, 522, "EC07B")
				setCgInfo(rTarget, 523, "EC07C")
			ElseIf (id == 14)
				setCgInfo(rTarget, 541, "EC09")
			ElseIf (id == 15)
				setCgInfo(rTarget, 551, "EC10A")
				setCgInfo(rTarget, 552, "EC10B")
				setCgInfo(rTarget, 553, "EC10C")
				setCgInfo(rTarget, 554, "EC10D")
				setCgInfo(rTarget, 555, "EC10E")
				setCgInfo(rTarget, 556, "EC10F")
			ElseIf (id == 16)
				setCgInfo(rTarget, 561, "EC11A")
				setCgInfo(rTarget, 562, "EC11B")
				setCgInfo(rTarget, 563, "EC11C")
			ElseIf (id == 17)
				setCgInfo(rTarget, 571, "EC12A")
				setCgInfo(rTarget, 572, "EC12B")
				setCgInfo(rTarget, 573, "EC12C")
			ElseIf (id == 18)
				setCgInfo(rTarget, 581, "EC13A")
				setCgInfo(rTarget, 582, "EC13B")
				setCgInfo(rTarget, 583, "EC13C")
				setCgInfo(rTarget, 584, "EC13D")
				setCgInfo(rTarget, 584, "EC13E")
			ElseIf (id == 19)
				setCgInfo(rTarget, 611, "EC16A")
				setCgInfo(rTarget, 612, "EC16B")
				setCgInfo(rTarget, 613, "EC16C")
				setCgInfo(rTarget, 614, "EC16D")
			ElseIf (id == 20)
				setCgInfo(rTarget, 621, "EC17A")
				setCgInfo(rTarget, 622, "EC17B")
				setCgInfo(rTarget, 623, "EC17C")
			ElseIf (id == 21)
				setCgInfo(rTarget, 631, "EC18")
			EndIf
		EndIf
	ElseIf (tagID == 3)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 31, "B19a", "CD01_01M")
				setCgInfo(rTarget, 31, "B19a", "CD01_02M")
				setCgInfo(rTarget, 31, "B19a", "CD01_03M")
				setCgInfo(rTarget, 31, "B19a", "CD01_04M")
				setCgInfo(rTarget, 31, "B19a", "CD01_05M")
				setCgInfo(rTarget, 31, "B19a", "CD01_06M")
				setCgInfo(rTarget, 31, "B19a", "CD01_07M")
				setCgInfo(rTarget, 31, "B19a", "CD01_08M")
				setCgInfo(rTarget, 31, "B19a", "CD01_09M")
				setCgInfo(rTarget, 31, "B19a", "CD01_10M")
				setCgInfo(rTarget, 31, "B19a", "CD01_11M")
				setCgInfo(rTarget, 31, "B19a", "CD01_12M")
				setCgInfo(rTarget, 31, "B19a", "CD01_13M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 32, "B39a", "CD02_01M")
				setCgInfo(rTarget, 32, "B39a", "CD02_02M")
				setCgInfo(rTarget, 32, "B39a", "CD02_03M")
				setCgInfo(rTarget, 32, "B39a", "CD02_04M")
				setCgInfo(rTarget, 32, "B39a", "CD02_05M")
				setCgInfo(rTarget, 32, "B39a", "CD02_06M")
				setCgInfo(rTarget, 32, "B39a", "CD02_07M")
				setCgInfo(rTarget, 32, "B39a", "CD02_08M")
				setCgInfo(rTarget, 32, "B39a", "CD02_09M")
				setCgInfo(rTarget, 32, "B39a", "CD02_10M")
				setCgInfo(rTarget, 32, "B39a", "CD02_11M")
				setCgInfo(rTarget, 32, "B39a", "CD02_12M")
				setCgInfo(rTarget, 32, "B39a", "CD02_13M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 33, "B07d", "CD03_01M")
				setCgInfo(rTarget, 33, "B07d", "CD03_02M")
				setCgInfo(rTarget, 33, "B07d", "CD03_03M")
				setCgInfo(rTarget, 33, "B07d", "CD03_04M")
				setCgInfo(rTarget, 33, "B07d", "CD03_05M")
				setCgInfo(rTarget, 33, "B07d", "CD03_06M")
				setCgInfo(rTarget, 33, "B07d", "CD03_07M")
				setCgInfo(rTarget, 33, "B07d", "CD03_08M")
				setCgInfo(rTarget, 33, "B07d", "CD03_09M")
				setCgInfo(rTarget, 33, "B07d", "CD03_10M")
				setCgInfo(rTarget, 33, "B07d", "CD03_11M")
				setCgInfo(rTarget, 33, "B07d", "CD03_12M")
				setCgInfo(rTarget, 33, "B07d", "CD03_13M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 34, "B21a", "CD04_01M")
				setCgInfo(rTarget, 34, "B21a", "CD04_02M")
				setCgInfo(rTarget, 34, "B21a", "CD04_03M")
				setCgInfo(rTarget, 34, "B21a", "CD04_04M")
				setCgInfo(rTarget, 34, "B21a", "CD04_05M")
				setCgInfo(rTarget, 34, "B21a", "CD04_06M")
				setCgInfo(rTarget, 34, "B21a", "CD04_07M")
				setCgInfo(rTarget, 34, "B21a", "CD04_08M")
				setCgInfo(rTarget, 34, "B21a", "CD04_09M")
				setCgInfo(rTarget, 34, "B21a", "CD04_10M")
				setCgInfo(rTarget, 34, "B21a", "CD04_11M")
				setCgInfo(rTarget, 34, "B21a", "CD04_12M")
				setCgInfo(rTarget, 34, "B21a", "CD04_13M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 37, "B21a", "CD07_01S")
				setCgInfo(rTarget, 37, "B21a", "CD07_02S")
				setCgInfo(rTarget, 37, "B21a", "CD07_03S")
				setCgInfo(rTarget, 37, "B21a", "CD07_04S")
				setCgInfo(rTarget, 37, "B21a", "CD07_05S")
				setCgInfo(rTarget, 37, "B21a", "CD07_06S")
				setCgInfo(rTarget, 37, "B21a", "CD07_07S")
				setCgInfo(rTarget, 37, "B21a", "CD07_08S")
				setCgInfo(rTarget, 37, "B21a", "CD07_09S")
				setCgInfo(rTarget, 37, "B21a", "CD07_10S")
				setCgInfo(rTarget, 37, "B21a", "CD07_11S")
				setCgInfo(rTarget, 37, "B21a", "CD07_12S")
				setCgInfo(rTarget, 37, "B21a", "CD07_13S")
			ElseIf (id == 5)
				setCgInfo(rTarget, 35, "B20a", "CD05_01M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_02M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_03M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_04M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_05M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_06M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_07M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_08M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_09M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_10M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_11M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_12M", IPoint(400, 0))
				setCgInfo(rTarget, 35, "B20a", "CD05_13M", IPoint(400, 0))
			ElseIf (id == 6)
				setCgInfo(rTarget, 36, "B23a", "CD06_01M")
				setCgInfo(rTarget, 36, "B23a", "CD06_02M")
				setCgInfo(rTarget, 36, "B23a", "CD06_03M")
				setCgInfo(rTarget, 36, "B23a", "CD06_04M")
				setCgInfo(rTarget, 36, "B23a", "CD06_05M")
				setCgInfo(rTarget, 36, "B23a", "CD06_06M")
				setCgInfo(rTarget, 36, "B23a", "CD06_07M")
				setCgInfo(rTarget, 36, "B23a", "CD06_08M")
				setCgInfo(rTarget, 36, "B23a", "CD06_09M")
				setCgInfo(rTarget, 36, "B23a", "CD06_10M")
				setCgInfo(rTarget, 36, "B23a", "CD06_11M")
				setCgInfo(rTarget, 36, "B23a", "CD06_12M")
				setCgInfo(rTarget, 36, "B23a", "CD06_13M")
			ElseIf (id == 7)
				setCgInfo(rTarget, 641, "ED01A")
				setCgInfo(rTarget, 642, "ED01B")
				setCgInfo(rTarget, 643, "ED01C")
			ElseIf (id == 8)
				setCgInfo(rTarget, 651, "ED02A")
				setCgInfo(rTarget, 652, "ED02B")
			ElseIf (id == 9)
				setCgInfo(rTarget, 661, "ED03A")
				setCgInfo(rTarget, 662, "ED03B")
				setCgInfo(rTarget, 663, "ED03C")
			ElseIf (id == 10)
				setCgInfo(rTarget, 671, "ED04")
			ElseIf (id == 11)
				setCgInfo(rTarget, 681, "ED05")
			ElseIf (id == 12)
				setCgInfo(rTarget, 691, "ED06A")
				setCgInfo(rTarget, 692, "ED06B")
				setCgInfo(rTarget, 693, "ED06C")
			ElseIf (id == 13)
				setCgInfo(rTarget, 701, "ED07A")
				setCgInfo(rTarget, 702, "ED07B")
			ElseIf (id == 14)
				setCgInfo(rTarget, 721, "ED09")
			ElseIf (id == 15)
				setCgInfo(rTarget, 731, "ED10A")
				setCgInfo(rTarget, 732, "ED10B")
				setCgInfo(rTarget, 733, "ED10C")
			ElseIf (id == 16)
				setCgInfo(rTarget, 741, "ED11A")
				setCgInfo(rTarget, 742, "ED11B")
				setCgInfo(rTarget, 743, "ED11C")
				setCgInfo(rTarget, 744, "ED11D")
			ElseIf (id == 17)
				setCgInfo(rTarget, 751, "ED12A")
				setCgInfo(rTarget, 752, "ED12B")
				setCgInfo(rTarget, 753, "ED12C")
			ElseIf (id == 18)
				setCgInfo(rTarget, 761, "ED13A")
				setCgInfo(rTarget, 762, "ED13B")
			ElseIf (id == 19)
				setCgInfo(rTarget, 791, "ED16A")
				setCgInfo(rTarget, 792, "ED16B")
				setCgInfo(rTarget, 793, "ED16C")
			ElseIf (id == 20)
				setCgInfo(rTarget, 801, "ED17A")
				setCgInfo(rTarget, 802, "ED17B")
				setCgInfo(rTarget, 803, "ED17C")
			ElseIf (id == 21)
				setCgInfo(rTarget, 811, "ED18A")
				setCgInfo(rTarget, 812, "ED18B")
				setCgInfo(rTarget, 813, "ED18C")
			EndIf
		EndIf
	ElseIf (tagID == 4)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 41, "B09a", "CE01_01M")
				setCgInfo(rTarget, 41, "B09a", "CE01_02M")
				setCgInfo(rTarget, 41, "B09a", "CE01_03M")
				setCgInfo(rTarget, 41, "B09a", "CE01_04M")
				setCgInfo(rTarget, 41, "B09a", "CE01_05M")
				setCgInfo(rTarget, 41, "B09a", "CE01_06M")
				setCgInfo(rTarget, 41, "B09a", "CE01_07M")
				setCgInfo(rTarget, 41, "B09a", "CE01_08M")
				setCgInfo(rTarget, 41, "B09a", "CE01_09M")
				setCgInfo(rTarget, 41, "B09a", "CE01_10M")
				setCgInfo(rTarget, 41, "B09a", "CE01_11M")
				setCgInfo(rTarget, 41, "B09a", "CE01_12M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 42, "B35a", "CE02_01M")
				setCgInfo(rTarget, 42, "B35a", "CE02_02M")
				setCgInfo(rTarget, 42, "B35a", "CE02_03M")
				setCgInfo(rTarget, 42, "B35a", "CE02_04M")
				setCgInfo(rTarget, 42, "B35a", "CE02_05M")
				setCgInfo(rTarget, 42, "B35a", "CE02_06M")
				setCgInfo(rTarget, 42, "B35a", "CE02_07M")
				setCgInfo(rTarget, 42, "B35a", "CE02_08M")
				setCgInfo(rTarget, 42, "B35a", "CE02_09M")
				setCgInfo(rTarget, 42, "B35a", "CE02_10M")
				setCgInfo(rTarget, 42, "B35a", "CE02_11M")
				setCgInfo(rTarget, 42, "B35a", "CE02_12M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 43, "B39a", "CE03_01M")
				setCgInfo(rTarget, 43, "B39a", "CE03_02M")
				setCgInfo(rTarget, 43, "B39a", "CE03_03M")
				setCgInfo(rTarget, 43, "B39a", "CE03_04M")
				setCgInfo(rTarget, 43, "B39a", "CE03_05M")
				setCgInfo(rTarget, 43, "B39a", "CE03_06M")
				setCgInfo(rTarget, 43, "B39a", "CE03_07M")
				setCgInfo(rTarget, 43, "B39a", "CE03_08M")
				setCgInfo(rTarget, 43, "B39a", "CE03_09M")
				setCgInfo(rTarget, 43, "B39a", "CE03_10M")
				setCgInfo(rTarget, 43, "B39a", "CE03_11M")
				setCgInfo(rTarget, 43, "B39a", "CE03_12M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 44, "B23a", "CE04_01M")
				setCgInfo(rTarget, 44, "B23a", "CE04_02M")
				setCgInfo(rTarget, 44, "B23a", "CE04_03M")
				setCgInfo(rTarget, 44, "B23a", "CE04_04M")
				setCgInfo(rTarget, 44, "B23a", "CE04_05M")
				setCgInfo(rTarget, 44, "B23a", "CE04_06M")
				setCgInfo(rTarget, 44, "B23a", "CE04_07M")
				setCgInfo(rTarget, 44, "B23a", "CE04_08M")
				setCgInfo(rTarget, 44, "B23a", "CE04_09M")
				setCgInfo(rTarget, 44, "B23a", "CE04_10M")
				setCgInfo(rTarget, 44, "B23a", "CE04_11M")
				setCgInfo(rTarget, 44, "B23a", "CE04_12M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 821, "EE01A")
				setCgInfo(rTarget, 822, "EE01B")
				setCgInfo(rTarget, 823, "EE01C")
				setCgInfo(rTarget, 824, "EE01D")
			ElseIf (id == 5)
				setCgInfo(rTarget, 831, "EE02A")
				setCgInfo(rTarget, 832, "EE02B")
				setCgInfo(rTarget, 833, "EE02C")
				setCgInfo(rTarget, 834, "EE02D")
			ElseIf (id == 6)
				setCgInfo(rTarget, 841, "EE03A")
				setCgInfo(rTarget, 842, "EE03B")
			ElseIf (id == 7)
				setCgInfo(rTarget, 851, "EE04A")
				setCgInfo(rTarget, 852, "EE04B")
				setCgInfo(rTarget, 853, "EE04C")
			ElseIf (id == 8)
				setCgInfo(rTarget, 861, "EE05A")
				setCgInfo(rTarget, 862, "EE05B")
			ElseIf (id == 9)
				setCgInfo(rTarget, 871, "EE06A")
				setCgInfo(rTarget, 872, "EE06B")
			ElseIf (id == 10)
				setCgInfo(rTarget, 881, "EE07A")
				setCgInfo(rTarget, 882, "EE07B")
			ElseIf (id == 11)
				setCgInfo(rTarget, 891, "EE08A")
				setCgInfo(rTarget, 892, "EE08B")
			ElseIf (id == 12)
				setCgInfo(rTarget, 911, "EE10A")
				setCgInfo(rTarget, 912, "EE10B")
				setCgInfo(rTarget, 913, "EE10C")
				setCgInfo(rTarget, 914, "EE10D")
			ElseIf (id == 13)
				setCgInfo(rTarget, 921, "EE11A")
				setCgInfo(rTarget, 922, "EE11B")
				setCgInfo(rTarget, 923, "EE11C")
			ElseIf (id == 14)
				setCgInfo(rTarget, 931, "EE12A")
				setCgInfo(rTarget, 932, "EE12B")
				setCgInfo(rTarget, 933, "EE12C")
				setCgInfo(rTarget, 934, "EE12D")
			ElseIf (id == 15)
				setCgInfo(rTarget, 941, "EE13A")
				setCgInfo(rTarget, 942, "EE13B")
				setCgInfo(rTarget, 943, "EE13C")
			ElseIf (id == 16)
				setCgInfo(rTarget, 971, "EE16A")
				setCgInfo(rTarget, 972, "EE16B")
			ElseIf (id == 17)
				setCgInfo(rTarget, 981, "EE17A")
				setCgInfo(rTarget, 982, "EE17B")
			ElseIf (id == 18)
				setCgInfo(rTarget, 991, "EE18")
			EndIf
		EndIf
	ElseIf (tagID == 5)
		If (this.cgViewMan[id].isCreate == 0)
			this.cgViewMan[id].isCreate := true
			If (IsUNK1)
			ElseIf (id == 0)
				setCgInfo(rTarget, 51, "B17A", "CF01_01M")
				setCgInfo(rTarget, 51, "B17A", "CF01_02M")
				setCgInfo(rTarget, 51, "B17A", "CF01_03M")
				setCgInfo(rTarget, 51, "B17A", "CF01_04M")
				setCgInfo(rTarget, 51, "B17A", "CF01_05M")
				setCgInfo(rTarget, 51, "B17A", "CF01_06M")
				setCgInfo(rTarget, 51, "B17A", "CF01_07M")
				setCgInfo(rTarget, 51, "B17A", "CF01_08M")
				setCgInfo(rTarget, 51, "B17A", "CF01_09M")
				setCgInfo(rTarget, 51, "B17A", "CF01_10M")
			ElseIf (id == 1)
				setCgInfo(rTarget, 52, "B12a", "CF02_01M")
				setCgInfo(rTarget, 52, "B12a", "CF02_02M")
				setCgInfo(rTarget, 52, "B12a", "CF02_03M")
				setCgInfo(rTarget, 52, "B12a", "CF02_04M")
				setCgInfo(rTarget, 52, "B12a", "CF02_05M")
				setCgInfo(rTarget, 52, "B12a", "CF02_06M")
				setCgInfo(rTarget, 52, "B12a", "CF02_07M")
				setCgInfo(rTarget, 52, "B12a", "CF02_08M")
				setCgInfo(rTarget, 52, "B12a", "CF02_09M")
				setCgInfo(rTarget, 52, "B12a", "CF02_10M")
			ElseIf (id == 2)
				setCgInfo(rTarget, 53, "B07a", "CF03_01M")
				setCgInfo(rTarget, 53, "B07a", "CF03_02M")
				setCgInfo(rTarget, 53, "B07a", "CF03_03M")
				setCgInfo(rTarget, 53, "B07a", "CF03_04M")
				setCgInfo(rTarget, 53, "B07a", "CF03_05M")
				setCgInfo(rTarget, 53, "B07a", "CF03_06M")
				setCgInfo(rTarget, 53, "B07a", "CF03_07M")
				setCgInfo(rTarget, 53, "B07a", "CF03_08M")
				setCgInfo(rTarget, 53, "B07a", "CF03_09M")
				setCgInfo(rTarget, 53, "B07a", "CF03_10M")
			ElseIf (id == 3)
				setCgInfo(rTarget, 54, "B21a", "CF04_01M")
				setCgInfo(rTarget, 54, "B21a", "CF04_02M")
				setCgInfo(rTarget, 54, "B21a", "CF04_03M")
				setCgInfo(rTarget, 54, "B21a", "CF04_04M")
				setCgInfo(rTarget, 54, "B21a", "CF04_05M")
				setCgInfo(rTarget, 54, "B21a", "CF04_06M")
				setCgInfo(rTarget, 54, "B21a", "CF04_07M")
				setCgInfo(rTarget, 54, "B21a", "CF04_08M")
				setCgInfo(rTarget, 54, "B21a", "CF04_09M")
				setCgInfo(rTarget, 54, "B21a", "CF04_10M")
			ElseIf (id == 4)
				setCgInfo(rTarget, 55, "B20a", "CF05_01M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_02M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_03M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_04M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_05M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_06M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_07M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_08M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_09M", IPoint(400, 0))
				setCgInfo(rTarget, 55, "B20a", "CF05_10M", IPoint(400, 0))
			ElseIf (id == 5)
				setCgInfo(rTarget, 56, "B23a", "CF06_01M")
				setCgInfo(rTarget, 56, "B23a", "CF06_02M")
				setCgInfo(rTarget, 56, "B23a", "CF06_03M")
				setCgInfo(rTarget, 56, "B23a", "CF06_04M")
				setCgInfo(rTarget, 56, "B23a", "CF06_05M")
				setCgInfo(rTarget, 56, "B23a", "CF06_06M")
				setCgInfo(rTarget, 56, "B23a", "CF06_07M")
				setCgInfo(rTarget, 56, "B23a", "CF06_08M")
				setCgInfo(rTarget, 56, "B23a", "CF06_09M")
				setCgInfo(rTarget, 56, "B23a", "CF06_10M")
			ElseIf (id == 6)
				setCgInfo(rTarget, 61, "B16a", "CG01_01M")
				setCgInfo(rTarget, 61, "B16a", "CG01_02M")
				setCgInfo(rTarget, 61, "B16a", "CG01_03M")
				setCgInfo(rTarget, 61, "B16a", "CG01_04M")
				setCgInfo(rTarget, 61, "B16a", "CG01_05M")
				setCgInfo(rTarget, 61, "B16a", "CG01_06M")
				setCgInfo(rTarget, 61, "B16a", "CG01_07M")
				setCgInfo(rTarget, 61, "B16a", "CG01_08M")
			ElseIf (id == 7)
				setCgInfo(rTarget, 62, "B15a", "CG02_01M")
				setCgInfo(rTarget, 62, "B15a", "CG02_02M")
				setCgInfo(rTarget, 62, "B15a", "CG02_03M")
				setCgInfo(rTarget, 62, "B15a", "CG02_04M")
				setCgInfo(rTarget, 62, "B15a", "CG02_05M")
				setCgInfo(rTarget, 62, "B15a", "CG02_06M")
				setCgInfo(rTarget, 62, "B15a", "CG02_07M")
				setCgInfo(rTarget, 62, "B15a", "CG02_08M")
			ElseIf (id == 8)
				setCgInfo(rTarget, 63, "B39a", "CG03_01M")
				setCgInfo(rTarget, 63, "B39a", "CG03_02M")
				setCgInfo(rTarget, 63, "B39a", "CG03_03M")
				setCgInfo(rTarget, 63, "B39a", "CG03_04M")
				setCgInfo(rTarget, 63, "B39a", "CG03_05M")
				setCgInfo(rTarget, 63, "B39a", "CG03_06M")
				setCgInfo(rTarget, 63, "B39a", "CG03_07M")
				setCgInfo(rTarget, 63, "B39a", "CG03_08M")
			ElseIf (id == 9)
				setCgInfo(rTarget, 71, "B19a", "CH01_01M")
				setCgInfo(rTarget, 71, "B19a", "CH01_02M")
				setCgInfo(rTarget, 71, "B19a", "CH01_03M")
				setCgInfo(rTarget, 71, "B19a", "CH01_04M")
				setCgInfo(rTarget, 71, "B19a", "CH01_05M")
				setCgInfo(rTarget, 71, "B19a", "CH01_06M")
				setCgInfo(rTarget, 71, "B19a", "CH01_07M")
				setCgInfo(rTarget, 71, "B19a", "CH01_08M")
				setCgInfo(rTarget, 71, "B19a", "CH01_09M")
				setCgInfo(rTarget, 71, "B19a", "CH01_10M")
				setCgInfo(rTarget, 71, "B19a", "CH01_11M")
			ElseIf (id == 10)
				setCgInfo(rTarget, 72, "B12a", "CH02_01M")
				setCgInfo(rTarget, 72, "B12a", "CH02_02M")
				setCgInfo(rTarget, 72, "B12a", "CH02_03M")
				setCgInfo(rTarget, 72, "B12a", "CH02_04M")
				setCgInfo(rTarget, 72, "B12a", "CH02_05M")
				setCgInfo(rTarget, 72, "B12a", "CH02_06M")
				setCgInfo(rTarget, 72, "B12a", "CH02_07M")
				setCgInfo(rTarget, 72, "B12a", "CH02_08M")
				setCgInfo(rTarget, 72, "B12a", "CH02_09M")
				setCgInfo(rTarget, 72, "B12a", "CH02_10M")
				setCgInfo(rTarget, 72, "B12a", "CH02_11M")
			ElseIf (id == 11)
				setCgInfo(rTarget, 74, "B21a", "CH04_01M")
				setCgInfo(rTarget, 74, "B21a", "CH04_02M")
				setCgInfo(rTarget, 74, "B21a", "CH04_03M")
				setCgInfo(rTarget, 74, "B21a", "CH04_04M")
				setCgInfo(rTarget, 74, "B21a", "CH04_05M")
				setCgInfo(rTarget, 74, "B21a", "CH04_06M")
				setCgInfo(rTarget, 74, "B21a", "CH04_07M")
				setCgInfo(rTarget, 74, "B21a", "CH04_08M")
				setCgInfo(rTarget, 74, "B21a", "CH04_09M")
				setCgInfo(rTarget, 74, "B21a", "CH04_10M")
				setCgInfo(rTarget, 74, "B21a", "CH04_11M")
			ElseIf (id == 12)
				setCgInfo(rTarget, 76, "B21a", "CH07_01S")
				setCgInfo(rTarget, 77, "B21a", "CH07_02S")
				setCgInfo(rTarget, 77, "B21a", "CH07_03S")
				setCgInfo(rTarget, 77, "B21a", "CH07_04S")
				setCgInfo(rTarget, 77, "B21a", "CH07_05S")
				setCgInfo(rTarget, 77, "B21a", "CH07_06S")
				setCgInfo(rTarget, 77, "B21a", "CH07_07S")
				setCgInfo(rTarget, 77, "B21a", "CH07_08S")
				setCgInfo(rTarget, 77, "B21a", "CH07_09S")
				setCgInfo(rTarget, 77, "B21a", "CH07_10S")
				setCgInfo(rTarget, 77, "B21a", "CH07_11S")
			ElseIf (id == 13)
				setCgInfo(rTarget, 75, "B20a", "CH05_01M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_02M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_03M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_04M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_05M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_06M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_07M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_08M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_09M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_10M", IPoint(400, 0))
				setCgInfo(rTarget, 75, "B20a", "CH05_11M", IPoint(400, 0))
			ElseIf (id == 14)
				setCgInfo(rTarget, 76, "B23a", "CH06_01M")
				setCgInfo(rTarget, 76, "B23a", "CH06_02M")
				setCgInfo(rTarget, 76, "B23a", "CH06_03M")
				setCgInfo(rTarget, 76, "B23a", "CH06_04M")
				setCgInfo(rTarget, 76, "B23a", "CH06_05M")
				setCgInfo(rTarget, 76, "B23a", "CH06_06M")
				setCgInfo(rTarget, 76, "B23a", "CH06_07M")
				setCgInfo(rTarget, 76, "B23a", "CH06_08M")
				setCgInfo(rTarget, 76, "B23a", "CH06_09M")
				setCgInfo(rTarget, 76, "B23a", "CH06_10M")
				setCgInfo(rTarget, 76, "B23a", "CH06_11M")
			ElseIf (id == 15)
				setCgInfo(rTarget, 81, "B09a", "CJ01_01M")
				setCgInfo(rTarget, 81, "B09a", "CJ01_02M")
				setCgInfo(rTarget, 81, "B09a", "CJ01_03M")
			ElseIf (id == 16)
				setCgInfo(rTarget, 91, "B09a", "CK01_01M")
				setCgInfo(rTarget, 91, "B09a", "CK01_02M")
				setCgInfo(rTarget, 91, "B09a", "CK01_03M")
				setCgInfo(rTarget, 91, "B09a", "CK01_04M")
			ElseIf (id == 17)
				setCgInfo(rTarget, 91, "EZ01a")
				setBustupInfo(rTarget, "EZ01CA01a", 10, 5)
				setBustupInfo(rTarget, "EZ01CB01a", 8, 1)
				setBustupInfo(rTarget, "EZ01CC01a", 4, 2)
				setBustupInfo(rTarget, "EZ01CD01a", 2, 3)
				setBustupInfo(rTarget, "EZ01CF01a", 6, 4)
				setCgInfo(rTarget, 91, "EZ01b")
				setBustupInfo(rTarget, "EZ01CA01b", 10, 5)
				setBustupInfo(rTarget, "EZ01CB01b", 8, 1)
				setBustupInfo(rTarget, "EZ01CC01b", 4, 2)
				setBustupInfo(rTarget, "EZ01CD01b", 2, 3)
				setBustupInfo(rTarget, "EZ01CF01b", 6, 4)
			ElseIf (id == 18)
				setCgInfo(rTarget, 1031, "EZ04A")
				setCgInfo(rTarget, 1032, "EZ04B")
			ElseIf (id == 19)
				setCgInfo(rTarget, 1041, "EZ05A")
				setCgInfo(rTarget, 1042, "EZ05B")
				setCgInfo(rTarget, 1043, "EZ05C")
				setCgInfo(rTarget, 1044, "EZ05D")
			ElseIf (id == 20)
				setCgInfo(rTarget, 1051, "EZ06A")
				setCgInfo(rTarget, 1052, "EZ06B")
				setCgInfo(rTarget, 1053, "EZ06C")
				setCgInfo(rTarget, 1054, "EZ06D")
				setCgInfo(rTarget, 1055, "EZ06E")
				setCgInfo(rTarget, 1056, "EZ06F")
			EndIf
		EndIf
	EndIf
EndFunc

